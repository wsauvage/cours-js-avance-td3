(()=>{"use strict";var e,t={891:(e,t,s)=>{const a=JSON.parse('[{"label":"155 Rue du Dirigeable 13400 Aubagne","score":0.9656181818181816,"housenumber":"155","id":"13005_0517_00155","name":"155 Rue du Dirigeable","postcode":"13400","citycode":"13005","x":911673.02,"y":6246133.73,"city":"Aubagne","context":"13, Bouches-du-Rhône, Provence-Alpes-Côte d\'Azur","type":"housenumber","importance":0.6218,"street":"Rue du Dirigeable"},{"label":"27 Rue des Bois 75019 Paris","score":0.9770527272727273,"housenumber":"27","id":"75119_1063_00027","name":"27 Rue des Bois","postcode":"75019","citycode":"75119","x":655871.04,"y":6864435.27,"city":"Paris","district":"Paris 19e Arrondissement","context":"75, Paris, Île-de-France","type":"housenumber","importance":0.74758,"street":"Rue des Bois"},{"label":"27 Rue des Bois 93160 Noisy-le-Grand","score":0.9728690909090907,"housenumber":"27","id":"93051_0270_00027","name":"27 Rue des Bois","postcode":"93160","citycode":"93051","x":668668.16,"y":6858733.71,"city":"Noisy-le-Grand","context":"93, Seine-Saint-Denis, Île-de-France","type":"housenumber","importance":0.70156,"street":"Rue des Bois"},{"label":"27 Rue des Bois 93390 Clichy-sous-Bois","score":0.9671790909090909,"housenumber":"27","id":"93014_0100_00027","name":"27 Rue des Bois","postcode":"93390","citycode":"93014","x":666502,"y":6868339.9,"city":"Clichy-sous-Bois","context":"93, Seine-Saint-Denis, Île-de-France","type":"housenumber","importance":0.63897,"street":"Rue des Bois"},{"label":"27 Avenue Charles 93220 Gagny","score":0.96887,"housenumber":"27","id":"93032_0480_00027","name":"27 Avenue Charles","postcode":"93220","citycode":"93032","x":665033.29,"y":6865637.83,"city":"Gagny","context":"93, Seine-Saint-Denis, Île-de-France","type":"housenumber","importance":0.65757,"street":"Avenue Charles"},{"label":"27 avenue Charles Fandre 51100 Reims","score":0.8873118181818181,"housenumber":"27","id":"51454_1809_00027","name":"27 avenue Charles Fandre","postcode":"51100","citycode":"51454","x":777129.38,"y":6907128.64,"city":"Reims","context":"51, Marne, Grand Est","type":"housenumber","importance":0.76043,"street":"avenue Charles Fandre"}]'),n=e=>e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"");function r(e){e.classList.add("is-active")}function o(e){e.classList.remove("is-active")}var d=s(737),c=s.n(d);window.onload=()=>{console.log("InitModals"),(document.querySelectorAll(".js-modal-trigger")||[]).forEach((e=>{const t=e.dataset.target,s=document.getElementById(t);e.addEventListener("click",(()=>{r(s)}))})),(document.querySelectorAll(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button")||[]).forEach((e=>{const t=e.closest(".modal");e.addEventListener("click",(()=>{o(t)}))})),document.addEventListener("keydown",(e=>{27===(e||window.event).keyCode&&(document.querySelectorAll(".modal")||[]).forEach((e=>{o(e)}))}));let e=document.querySelector("#searchInput"),t=document.querySelector("#searchButton"),s=document.querySelector("#output"),a=document.querySelector("#saveButton");t.addEventListener("click",(t=>{let a=e.value,n=l(a);s.innerHTML="",n.map((e=>{i(e,s)})),0===n.length&&(s.innerHTML='\n            <article class="message is-info">\n                <div class="message-body">\n                    Aucune adresse à afficher.\n                </div>\n            </article>\n            ')})),a.addEventListener("click",(e=>{const t=document.getElementById("modalSaveAddress");let s=t.querySelector('input[name="name"]'),a=t.querySelector('textarea[name="description"]');const n=s.value,r=a.value;let o={...JSON.parse(localStorage.getItem("selectedAddress")),name:n,description:r},d=localStorage.getItem("savedPois")?JSON.parse(localStorage.getItem("savedPois")):[];0===d.filter((e=>e.label===o.label)).length?(d=[...d,o],localStorage.setItem("savedPois",JSON.stringify(d)),c()({title:"Good job!",text:"Point d'intérêt ajouté",icon:"success"})):c()({title:"Oups !",text:"Le point d'intérêt existe déjà",icon:"error"}),s.value="",a.value=""}))};const l=e=>{let t=[];return a.map((s=>{n(s.label).includes(n(e))&&t.push(s)})),t},i=(e,t)=>{let s=document.createElement("div");s.classList.add("card"),s.classList.add("mt-4");let a=document.createElement("header");a.classList.add("card-header"),a.classList.add("has-background-link");let n=document.createElement("p");n.classList.add("card-header-title"),n.classList.add("has-text-white"),n.innerHTML=e.label;let o=document.createElement("div");o.classList.add("card-content");let d=document.createElement("div");d.classList.add("content"),d.innerHTML=`\n    <ul>\n        <li>City : ${e.city}</li>\n        <li>PostCode : ${e.postcode}</li>\n        <li>Context : ${e.context}</li>\n    </ul>\n    `;let c=document.createElement("footer");c.classList.add("card-footer");let l=document.createElement("a");l.classList.add("card-footer-item"),l.classList.add("has-text-white"),l.classList.add("has-background-success"),l.innerHTML="Ajouter",a.appendChild(n),o.appendChild(d),c.appendChild(l),s.appendChild(a),s.appendChild(o),s.appendChild(c),t.appendChild(s),l.addEventListener("click",(t=>{const s=document.getElementById("modalSaveAddress");let a=s.querySelector(".modal-card-title"),n=s.querySelector(".address-details");a.innerHTML=e.label,n.innerHTML=d.innerHTML,r(s),localStorage.setItem("selectedAddress",JSON.stringify(e))}))}}},s={};function a(e){var n=s[e];if(void 0!==n)return n.exports;var r=s[e]={exports:{}};return t[e].call(r.exports,r,r.exports,a),r.exports}a.m=t,e=[],a.O=(t,s,n,r)=>{if(!s){var o=1/0;for(i=0;i<e.length;i++){for(var[s,n,r]=e[i],d=!0,c=0;c<s.length;c++)(!1&r||o>=r)&&Object.keys(a.O).every((e=>a.O[e](s[c])))?s.splice(c--,1):(d=!1,r<o&&(o=r));if(d){e.splice(i--,1);var l=n();void 0!==l&&(t=l)}}return t}r=r||0;for(var i=e.length;i>0&&e[i-1][2]>r;i--)e[i]=e[i-1];e[i]=[s,n,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0};a.O.j=t=>0===e[t];var t=(t,s)=>{var n,r,[o,d,c]=s,l=0;if(o.some((t=>0!==e[t]))){for(n in d)a.o(d,n)&&(a.m[n]=d[n]);if(c)var i=c(a)}for(t&&t(s);l<o.length;l++)r=o[l],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(i)},s=self.webpackChunkcours_js_avance_td2=self.webpackChunkcours_js_avance_td2||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var n=a.O(void 0,[737],(()=>a(891)));n=a.O(n)})();